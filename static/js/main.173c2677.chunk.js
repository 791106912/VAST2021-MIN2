/*! For license information please see main.173c2677.chunk.js.LICENSE.txt */
(this["webpackJsonpvast-2020"]=this["webpackJsonpvast-2020"]||[]).push([[0],{181:function(e,t,n){},182:function(e,t,n){},183:function(e,t,n){},185:function(e,t,n){},186:function(e,t,n){},187:function(e,t,n){},192:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),c=n(122),i=n.n(c),s=(n(181),n(42)),o=n(9),l=(n(182),n(3)),u=n(7),m=n(6),d=n(194),j=n(75),p=n(5),b=n(118),f=n(121),O=n(119),y=n(8),h=n(12),g=n.n(h),v=[1388937600,1389024e3,1389110400,1389196800,1389283200,1389369600,1389456e3,1389542400,1389628800,1389715200,1389801600,1389888e3,1389974400,1390060800],x=["01/06/2014","01/07/2014","01/08/2014","01/09/2014","01/10/2014","01/11/2014","01/12/2014","01/13/2014","01/14/2014","01/15/2014","01/16/2014","01/17/2014","01/18/2014","01/19/2014"],C=[{type:"FastFood",data:["Brew've Been Served","Hallowed Grounds","Coffee Cameleon","Coffee Shack","Bean There Done That","Jack's Magical Beans","Brewed Awakenings"]},{type:"Restaurant",data:["Katerinas Caf","Gelatogalore","Ouzeri Elian","Kalami Kafenion","Hippokampos","Abila Zacharo","Guy's Gyros"]},{type:"Industry",data:["Abila Airport","Nationwide Refinery","Maximum Iron and Steel","Carlyle Chemical Inc.","Abila Scrapyard","Octavio's Office Supplies","Chostus Hotel","Kronos Pipe and Irrigation","Stewart and Sons Fabrication"]},{type:"Gas Station",data:["Frank's Fuel","U-Pump"]},{type:"Living",data:["Albert's Fine Clothing","Kronos Mart","Daily Dealz","Shoppers' Delight","Frydos Autosupply n' More","General Grocer"]},{type:"Entertainment",data:["Desafio Golf Course","Roberts and Sons","Ahaggo Museum"]}],N=Object(y.chain)(C).map("data").flatten().reduce((function(e,t){return e[t]=C.find((function(e){return e.data.includes(t)})).type,e}),{}).value(),T=[{data:[-2,6],name:"Sleeping"},{data:[6,9],name:"On the way to work"},{data:[9,12],name:"Working"},{data:[12,14],name:"Lunch Break"},{data:[14,18],name:"Working"},{data:[18,22],name:"After work"}],k={L8328:"8129",L6417:"7117",L1107:"2681",L4034:"5407",L6110:"8411",L2343:"8202",L9018:"2418",L5777:"9551",L7783:"1415",L3191:"9635",L4164:"7688",L1682:"7253",L1485:"3853",L5947:"2540",L3014:"1877",L4149:"1321",L6544:"7108",L4424:"1874",L5259:"7819",L3800:"7384",L5553:"9617",L3366:"6895",L8148:"6816",L4063:"9220",L2490:"3484",L2769:"8642",L2169:"4434",L9633:"9735",L9637:"2142",L8012:"1310",L7814:"3492",L3259:"9405",L9363:"6901",L5224:"8156",L7291:"9683",L9254:"7354",L6886:"2463",L7761:"3506",L5756:"7792",L8477:"4530",L3317:"2276",L5485:"9152",L5924:"9614",L2459:"5010",L2247:"5368",L9406:"4948",L9362:"3547",L3295:"5921",L6267:["6691","6899"],L6119:"7889",L2070:"8332",L8566:"4795",L3572:"1286",L3288:"9241"},E=[{LastName:"Calixto",FirstName:"Nils",CarID:"1",CurrentEmploymentType:"Information Technology",CurrentEmploymentTitle:"IT Helpdesk"},{LastName:"Azada",FirstName:"Lars",CarID:"2",CurrentEmploymentType:"Engineering",CurrentEmploymentTitle:"Engineer"},{LastName:"Balas",FirstName:"Felix",CarID:"3",CurrentEmploymentType:"Engineering",CurrentEmploymentTitle:"Engineer"},{LastName:"Barranco",FirstName:"Ingrid",CarID:"4",CurrentEmploymentType:"Executive",CurrentEmploymentTitle:"SVP/CFO"},{LastName:"Baza",FirstName:"Isak",CarID:"5",CurrentEmploymentType:"Information Technology",CurrentEmploymentTitle:"IT Technician"},{LastName:"Bergen",FirstName:"Linnea",CarID:"6",CurrentEmploymentType:"Information Technology",CurrentEmploymentTitle:"IT Group Manager"},{LastName:"Orilla",FirstName:"Elsa",CarID:"7",CurrentEmploymentType:"Engineering",CurrentEmploymentTitle:"Drill Technician"},{LastName:"Alcazar",FirstName:"Lucas",CarID:"8",CurrentEmploymentType:"Information Technology",CurrentEmploymentTitle:"IT Technician"},{LastName:"Cazar",FirstName:"Gustav",CarID:"9",CurrentEmploymentType:"Engineering",CurrentEmploymentTitle:"Drill Technician"},{LastName:"Campo-Corrente",FirstName:"Ada",CarID:"10",CurrentEmploymentType:"Executive",CurrentEmploymentTitle:"SVP/CIO"},{LastName:"Calzas",FirstName:"Axel",CarID:"11",CurrentEmploymentType:"Engineering",CurrentEmploymentTitle:"Hydraulic Technician"},{LastName:"Cocinaro",FirstName:"Hideki",CarID:"12",CurrentEmploymentType:"Security",CurrentEmploymentTitle:"Site Control"},{LastName:"Ferro",FirstName:"Inga",CarID:"13",CurrentEmploymentType:"Security",CurrentEmploymentTitle:"Site Control"},{LastName:"Dedos",FirstName:"Lidelse",CarID:"14",CurrentEmploymentType:"Engineering",CurrentEmploymentTitle:"Engineering Group Manager"},{LastName:"Bodrogi",FirstName:"Loreto",CarID:"15",CurrentEmploymentType:"Security",CurrentEmploymentTitle:"Site Control"},{LastName:"Vann",FirstName:"Isia",CarID:"16",CurrentEmploymentType:"Security",CurrentEmploymentTitle:"Perimeter Control"},{LastName:"Flecha",FirstName:"Sven",CarID:"17",CurrentEmploymentType:"Information Technology",CurrentEmploymentTitle:"IT Technician"},{LastName:"Frente",FirstName:"Birgitta",CarID:"18",CurrentEmploymentType:"Engineering",CurrentEmploymentTitle:"Geologist"},{LastName:"Frente",FirstName:"Vira",CarID:"19",CurrentEmploymentType:"Engineering",CurrentEmploymentTitle:"Hydraulic Technician"},{LastName:"Fusil",FirstName:"Stenig",CarID:"20",CurrentEmploymentType:"Security",CurrentEmploymentTitle:"Building Control"},{LastName:"Osvaldo",FirstName:"Hennie",CarID:"21",CurrentEmploymentType:"Security",CurrentEmploymentTitle:"Perimeter Control"},{LastName:"Nubarron",FirstName:"Adra",CarID:"22",CurrentEmploymentType:"Security",CurrentEmploymentTitle:"Badging Office"},{LastName:"Lagos",FirstName:"Varja",CarID:"23",CurrentEmploymentType:"Security",CurrentEmploymentTitle:"Badging Office"},{LastName:"Mies",FirstName:"Minke",CarID:"24",CurrentEmploymentType:"Security",CurrentEmploymentTitle:"Perimeter Control"},{LastName:"Herrero",FirstName:"Kanon",CarID:"25",CurrentEmploymentType:"Engineering",CurrentEmploymentTitle:"Geologist"},{LastName:"Onda",FirstName:"Marin",CarID:"26",CurrentEmploymentType:"Engineering",CurrentEmploymentTitle:"Drill Site Manager"},{LastName:"Orilla",FirstName:"Kare",CarID:"27",CurrentEmploymentType:"Engineering",CurrentEmploymentTitle:"Drill Technician"},{LastName:"Borrasca",FirstName:"Isande",CarID:"28",CurrentEmploymentType:"Engineering",CurrentEmploymentTitle:"Drill Technician"},{LastName:"Ovan",FirstName:"Bertrand",CarID:"29",CurrentEmploymentType:"Facilities",CurrentEmploymentTitle:"Facilities Group Manager"},{LastName:"Resumir",FirstName:"Felix",CarID:"30",CurrentEmploymentType:"Security",CurrentEmploymentTitle:"Security Group Manager"},{LastName:"Sanjorge Jr.",FirstName:"Sten",CarID:"31",CurrentEmploymentType:"Executive",CurrentEmploymentTitle:"President/CEO"},{LastName:"Strum",FirstName:"Orhan",CarID:"32",CurrentEmploymentType:"Executive",CurrentEmploymentTitle:"SVP/COO"},{LastName:"Tempestad",FirstName:"Brand",CarID:"33",CurrentEmploymentType:"Engineering",CurrentEmploymentTitle:"Drill Technician"},{LastName:"Vann",FirstName:"Edvard",CarID:"34",CurrentEmploymentType:"Security",CurrentEmploymentTitle:"Perimeter Control"},{LastName:"Vasco-Pais",FirstName:"Willem",CarID:"35",CurrentEmploymentType:"Executive",CurrentEmploymentTitle:"Environmental Safety Advisor"},{LastName:"Hafon",FirstName:"Albina",CarID:"",CurrentEmploymentType:"Facilities",CurrentEmploymentTitle:"Truck Driver"},{LastName:"Hawelon",FirstName:"Benito",CarID:"",CurrentEmploymentType:"Facilities",CurrentEmploymentTitle:"Truck Driver"},{LastName:"Hawelon",FirstName:"Claudio",CarID:"",CurrentEmploymentType:"Facilities",CurrentEmploymentTitle:"Truck Driver"},{LastName:"Mies",FirstName:"Henk",CarID:"",CurrentEmploymentType:"Facilities",CurrentEmploymentTitle:"Truck Driver"},{LastName:"Morlun",FirstName:"Valeria",CarID:"",CurrentEmploymentType:"Facilities",CurrentEmploymentTitle:"Truck Driver"},{LastName:"Morlun",FirstName:"Adan",CarID:"",CurrentEmploymentType:"Facilities",CurrentEmploymentTitle:"Truck Driver"},{LastName:"Morluniau",FirstName:"Cecilia",CarID:"",CurrentEmploymentType:"Facilities",CurrentEmploymentTitle:"Truck Driver"},{LastName:"Nant",FirstName:"Irene",CarID:"",CurrentEmploymentType:"Facilities",CurrentEmploymentTitle:"Truck Driver"},{LastName:"Scozzese",FirstName:"Dylan",CarID:"",CurrentEmploymentType:"Facilities",CurrentEmploymentTitle:"Truck Driver"}],D={"Brew've Been Served":[{s:"7:30",e:"8:30",d:1}],"Hallowed Grounds":[{s:"7:30",e:"8:30",d:2}],"Coffee Cameleon":[{s:"7:30",e:"8:30",d:3}],"Coffee Shack":[{s:"11:45",e:"12:15",d:1}],"Bean There Done That":[{s:"11:45",e:"12:15",d:2}],"Jack's Magical Beans":[{s:"11:45",e:"12:15",d:3}],"Brewed Awakenings":[{s:"11:45",e:"12:15",d:4}],"Katerinas Caf":[{s:"13:00",e:"14:30",d:1},{s:"18:50",e:"21:30",d:1}],Gelatogalore:[{s:"13:00",e:"14:20",d:5}],"Ouzeri Elian":[{s:"13:00",e:"14:20",d:3},{s:"19:00",e:"21:30",d:3}],"Kalami Kafenion":[{s:"13:10",e:"14:20",d:4},{s:"19:00",e:"20:30",d:4}],Hippokampos:[{s:"13:00",e:"14:00",d:2},{s:"19:10",e:"22:30",d:2}],"Abila Zacharo":[{s:"13:00",e:"14:30",d:7}],"Guy's Gyros":[{s:"13:30",e:"14:30",d:6},{s:"19:0",e:"21:40",d:6}],"Abila Airport":[{s:"8:26",e:"9:40",d:1},{s:"12:20",e:"13:10",d:1},{s:"15:20",e:"16:10",d:1}],"Nationwide Refinery":[{s:"10:00",e:"13:00",d:5}],"Maximum Iron and Steel":[{s:"10:10",e:"10:50",d:1},{s:"14:50",e:"15:20",d:1}],"Carlyle Chemical Inc.":[{s:"9:40",e:"10:10",d:1},{s:"12:30",e:"13:00",d:2},{s:"14:30",e:"14:50",d:1},{s:"16:20",e:"17:20",d:1}],"Abila Scrapyard":[{s:"14:10",e:"14:30",d:2}],"Octavio's Office Supplies":[{s:"14:30",e:"16:00",d:3}],"Chostus Hotel":[{s:"12:10",e:"14:00",d:8}],"Frank's Fuel":[{s:"12:10",e:"12:40",d:6},{s:"18:10",e:"18:50",d:1}],"Kronos Pipe and Irrigation":[{s:"14:00",e:"14:20",d:8}],"Stewart and Sons Fabrication":[{s:"10:20",e:"12:20",d:7}],"Albert's Fine Clothing":[{s:"15:20",e:"16:20",d:2},{s:"19:00",e:"21:20",d:5}],"Kronos Mart":[{s:"3:10",e:"4:00",d:1},{s:"7:30",e:"8:40",d:4}],"Daily Dealz":[{s:"5:50",e:"6:20",d:1}],"Shoppers' Delight":[{s:"15:10",e:"16:10",d:7},{s:"19:20",e:"21:30",d:7}],"Ahaggo Museum":[{s:"15:00",e:"17:00",d:8}],"Desafio Golf Course":[{s:"13:00",e:"15:40",d:9}],"Roberts and Sons":[{s:"19:10",e:"21:30",d:8}],"U-Pump":[{s:"13:10",e:"13:30",d:6},{s:"17:25",e:"17:55",d:1}],"General Grocer":[{s:"15:20",e:"16:00",d:5},{s:"20:30",e:"21:40",d:4}],"Frydos Autosupply n' More":[{s:"15:30",e:"16:20",d:4},{s:"19:00",e:"21:40",d:9}]},L=n(64),S=n(19),I=n(114),M=[{name:"Hallowed Grounds",desc:"",type:"Consumer sites",range:[[24.88388038,36.06553341],[24.88788038,36.06253341]]},{name:"Bean There Done That",desc:"",range:[[24.84912302000002,36.084489514999994],[24.853505705000018,36.07924747999999]],type:"Consumer sites"},{name:"Kronos Mart",desc:"",range:[[24.846974645000017,36.06807593],[24.851529200000016,36.064896335]],type:"Consumer sites"},{name:"Ouzeri Elian",desc:"",range:[[24.870177095000017,36.0544982],[24.87447384500002,36.05002958]],type:"Consumer sites"},{name:"Coffee Cameleon",desc:"",range:[[24.888910925000015,36.05656064],[24.893121740000016,36.05329511]],type:"Consumer sites"},{name:"Abila Airport",desc:"",range:[[24.824030000000022,36.054756005],[24.83417033000002,36.04727966]],type:"Consumer sites"},{name:"Abila Scrapyard",desc:"",range:[[24.84370911500002,36.076067885],[24.849294890000017,36.072630485]],type:"Consumer sites"},{name:"Chostus Hotel",desc:"",range:[[24.890543690000012,36.07220081],[24.898707515000016,36.067474385]],type:"Consumer sites"},{name:"Hippokampos",desc:"\u5728Albert's Fine Clothing\u4e0a\u65b9\uff0c\u5df2\u9a8c\u8bc1,6",range:[[24.85565408000002,36.07770065],[24.859950830000017,36.07598195]],type:"Consumer sites"},{name:"Abila Zacharo",desc:"\u5728Roberts and Sons\u5de6\u8fb9\uff0c\u5df2\u9a8c\u8bc1,6\u30017",range:[[24.84981050000002,36.064380725],[24.85178700500002,36.061802675]],type:"Consumer sites"},{name:"Roberts and Sons",desc:"\u5df2\u9a8c\u8bc1, 7\u53f7",range:[[24.851529200000016,36.06412292],[24.853763510000018,36.061974545]],type:"Consumer sites"},{name:"Albert's Fine Clothing",desc:"\u5df2\u9a8c\u8bc1, 7\u53f7",range:[[24.85479473000002,36.07598195],[24.857458715000018,36.074349185]],type:"Consumer sites"},{name:"Gelatogalore",desc:"\u51b0\u6dc7\u6dcb\u5e97\uff0c\u6709\u4e9b\u504f\u5dee\uff0c\u5e94\u8be5\u5728\u6742\u8d27\u5e97\u7684\u4e0b\u9762\uff0c\u5df2\u9a8c\u8bc1",range:[[24.85702904000002,36.059998039999996],[24.858919610000015,36.05913869]],type:"Consumer sites"},{name:"Kalami Kafenion",desc:"\u5728Kronos Mart\u7684\u53f3\u8fb9\u4e00\u70b9\uff0c7\u53f7\u5f97\u5230\u7684\uff0c12\u53f7\u9a8c\u8bc1",range:[[24.85161513500002,36.067474385],[24.853763510000018,36.065240075]],type:"Consumer sites"},{name:"Frydos Autosupply n' More",desc:"\u6839\u636e7\u53f7\u548c8\u53f7\uff0c\u4fee\u8f66\u5382\u5e94\u8be5\u5728 Brew'veBeenServed \u548c Katerinas Caf \u4e2d\u95f4",range:[[24.900512150000015,36.055443485000005],[24.903605810000016,36.054412264999996]],type:"Consumer sites"},{name:"Katerinas Caf",desc:"\u6bd4\u539f\u6765\u7684\u5c0f\u4e00\u70b9",range:[[24.897590360000017,36.055787224999996],[24.900426215000014,36.05329511]],type:"Consumer sites"},{name:"Guy's Gyros",desc:"\u5728Brew'veBeenServed\u5de6\u4e0b\u89d2\uff0c12\u548c8\u8f66\u9a8c\u8bc1",range:[[24.901801175000017,36.05690438],[24.903176135000013,36.05518568]],type:"Consumer sites"},{name:"General Grocer",desc:"\u6742\u8d27\u5e97, 12\u53f7\u8f66\u9a8c\u8bc1",range:[[24.85565408000002,36.061287065],[24.85728684500002,36.059912105]],type:"Consumer sites"},{name:"Shoppers' Delight",desc:"\u5728Ouzeri Elian \u7684\u5de6\u8fb9 13\u53f7\u8f66\u9a8c\u8bc1",range:[[24.867341240000016,36.05432633],[24.870005225000018,36.051490475]],type:"Consumer sites"},{name:"Brew've Been Served",desc:"\u975e\u5e38\u7684\u5c0f\uff0c 13\u53f7\u8f66\u9a8c\u8bc1",range:[[24.900598085000013,36.054584135],[24.901887110000015,36.053381045]],type:"Consumer sites"},{name:"Frank's Fuel",desc:"\u6bd4\u56fe\u6807\u9760\u53f3\u4e00\u70b9\uff0c15\u53f7\u8f66\u9a8c\u8bc1",range:[[24.83872488500002,36.073489835],[24.84224822000002,36.07116959]],type:"Consumer sites"},{name:"Brewed Awakenings",desc:"\u6839\u636e16\u53f7\u8f66\u5f97\u5230\u7684\uff0c\u8fd9\u4e2a\u5730\u65b9\u6bd4\u8f83\u504f\uff0c\u6240\u4ee5\u5e97\u7684\u6d88\u8d39\u8f83\u5c11",range:[[24.86287262000002,36.07443512],[24.865364735000018,36.07271642]],type:"Consumer sites"},{name:"Ahaggo Museum",desc:"\u535a\u7269\u9986",range:[[24.875419130000015,36.077958455],[24.879887750000016,36.073919509999996]],type:"Consumer sites"},{name:"Octavio's Office Supplies",desc:"\u6587\u5177\u5e97\uff0c20\u53f7\u8f6614\u53f7\u8def\u8fc7\u7684",range:[[24.85728684500002,36.05896682],[24.85874774000002,36.0579356]],type:"Consumer sites"},{name:"U-Pump",desc:"23\u53f7\u8f666\u53f7\u4e0b\u5348",range:[[24.869059940000017,36.069279019999996],[24.871895795000015,36.066615035]],type:"Consumer sites"},{name:"Desafio Golf Course",desc:"31\u53f7\u8f66",range:[[24.85763058500002,36.091536184999995],[24.86390384000002,36.088184719999994]],type:"Consumer sites"},{name:"Jack's Magical Beans",desc:"\u7f29\u5c0f\u4e00\u4e0b",range:[[24.872325470000018,36.069021215],[24.876106610000015,36.066271295]],type:"Consumer sites"},{name:"Maximum Iron and Steel",desc:"\u94a2\u94c1\u5382",range:[[24.83674838000002,36.06601349],[24.84319350500002,36.06240422]],type:"Consumer sites"},{name:"Carlyle Chemical Inc.",desc:"\u5316\u5de5\u5382",range:[[24.879715880000017,36.059654300000005],[24.882981410000017,36.05741999]],type:"Consumer sites"},{name:"Nationwide Refinery",desc:"\u70bc\u6cb9\u5382",range:[[24.884442305000015,36.059482429999996],[24.888996860000013,36.05656064]],type:"Consumer sites"},{name:"Kronos Pipe and Irrigation",desc:"\u704c\u6e89\u8bbe\u5907\u5382, 101\u8f666\u53f7\u548c13\u53f7",range:[[24.83167821500002,36.066443164999995],[24.83434220000002,36.064380725]],type:"Consumer sites"},{name:"Stewart and Sons Fabrication",desc:"\u73bb\u7483\u5382\uff1f\u4e0d\u77e5\u9053\uff0c101\u8f66\u4e03\u53f7",range:[[24.907301015000012,36.05501381],[24.909363455000012,36.05295137]],type:"Consumer sites"},{name:"Coffee Shack",desc:"\u6d88\u8d39\u573a\u6240\uff0c\u6ca1\u627e\u5230\uff0c\u65e0\u6240\u8c13\uff0c\u5c316417\u4e00\u4e2a\u5361\u53bb\uff0c\u8fd9\u4e2a\u6570\u636e\u7684\u65f6\u95f4\u4e5f\u662f\u9519\u8bef\u7684",range:[[24.858575870000017,36.07495073],[24.861841400000017,36.071255525]],type:"Consumer sites"},{name:"carly's coffee",range:[[24.85754465000002,36.058709015],[24.861153920000017,36.055271614999995]],type:"location"},{name:"Cup o'Joe",range:[[24.877825310000016,36.053552915],[24.880833035000016,36.050717060000004]],type:"location"},{name:"Abila Hospital",range:[[24.876708155000017,36.057677795000004],[24.883840760000016,36.053209175]],type:"location"},{name:"GAStect",range:[[24.877309700000016,36.050974865],[24.881950190000016,36.046162505]],type:"location"},{name:"kronos capitol",range:[[24.84456846500002,36.058537145],[24.850841720000016,36.05209202]],type:"location"},{name:"home_1",desc:"\u8f661\u7684\u5bb6",range:[[24.88160233,36.067487109999995],[24.883602330000002,36.06548711]],type:"home"},{name:"home_2",desc:"\u8f662\u7684\u5bb6",range:[[24.859401759999997,36.08634633],[24.86140176,36.08434633]],type:"home"},{name:"home_3",desc:"\u8f663\u7684\u5bb6",range:[[24.85667136,36.087593749999996],[24.858671360000002,36.08559375]],type:"home"},{name:"home_4",desc:"\u8f664\u7684\u5bb6",range:[[24.87106884,36.07921458],[24.873068840000002,36.07721458]],type:"home"},{name:"home_5",desc:"\u8f665\u7684\u5bb6",range:[[24.876958979999998,36.06831877],[24.87895898,36.06631877]],type:"home"},{name:"home_6_25_29",desc:"\u8f666\u300125\u300129\u7684\u5bb6",range:[[24.893741,36.060403349999994],[24.895741,36.05840335]],type:"home"},{name:"home_7",desc:"\u8f667\u7684\u5bb6",range:[[24.86319721,36.085321119999996],[24.86519721,36.08332112]],type:"home"},{name:"home_8",desc:"\u8f668\u7684\u5bb6",range:[[24.88492574,36.06817381],[24.886925740000002,36.06617381]],type:"home"},{name:"home_10",desc:"\u8f6610\u7684\u5bb6",range:[[24.864882079999997,36.07768915],[24.86688208,36.07568915]],type:"home"},{name:"home_11",desc:"\u8f6611\u7684\u5bb6",range:[[24.85796606,36.08512021],[24.85996606,36.083120210000004]],type:"home"},{name:"home_12",desc:"\u8f6612\u7684\u5bb6",range:[[24.898078079999998,36.06875761],[24.90007808,36.06675761]],type:"home"},{name:"home_13_15_16_21",desc:"\u8f6613\u300115\u300116\u300121\u7684\u5bb6",range:[[24.904667829999998,36.06134734],[24.90666783,36.05934734]],type:"home"},{name:"home_14_18",desc:"\u8f6614\u300118\u7684\u5bb6",range:[[24.89508249,36.06436043],[24.897082490000003,36.062360430000005]],type:"home"},{name:"home_17_24_33",desc:"\u8f6617\u300124\u300133\u7684\u5bb6",range:[[24.89771782,36.063341259999994],[24.899717820000003,36.06134126]],type:"home"},{name:"home_19",desc:"\u8f6619\u7684\u5bb6",range:[[24.8554893,36.088918209999996],[24.8574893,36.08691821]],type:"home"},{name:"home_20",desc:"\u8f6620\u7684\u5bb6",range:[[24.89999889,36.06686874],[24.90199889,36.06486874]],type:"home"},{name:"home_22",desc:"\u8f6622\u7684\u5bb6",range:[[24.89940545,36.051338789999996],[24.901405450000002,36.04933879]],type:"home"},{name:"home_23_30",desc:"\u8f6623\u300130\u7684\u5bb6",range:[[24.899992689999998,36.05949165],[24.90199269,36.05749165]],type:"home"},{name:"home_26",desc:"\u8f6626\u7684\u5bb6",range:[[24.883036129999997,36.073828819999996],[24.88503613,36.07182882]],type:"home"},{name:"home_27",desc:"\u8f6627\u7684\u5bb6",range:[[24.88319323,36.07024187],[24.885193230000002,36.06824187]],type:"home"},{name:"home_28",desc:"\u8f6628\u7684\u5bb6",range:[[24.879169006599998,36.070638333649995],[24.8811690066,36.06863833365]],type:"home"},{name:"home_32",desc:"\u8f6632\u7684\u5bb6",range:[[24.873631659999997,36.07322591],[24.87563166,36.07122591]],type:"home"},{name:"home_34",desc:"\u8f6634\u7684\u5bb6",range:[[24.90155042,36.0686293],[24.903550420000002,36.0666293]],type:"home"},{name:"home_35",desc:"\u8f6635\u7684\u5bb6",range:[[24.873611139999998,36.07724279],[24.87561114,36.075242790000004]],type:"home"}].map((function(e){return Object(l.a)(Object(l.a)({},e),{},{classify:N[e.name]||e.type})}));function F(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"single",a=Object(L.a)(e);return"single"!==n?a.includes(t)?a.filter((function(e){return e!==t})):(a.push(t),a):a.includes(t)?[]:[t]}function w(e,t){return parseFloat((Number(e)+Number(t)).toFixed(10))}function A(e){var t=e.toString();switch(t.match(/:/g)?t.match(/:/g).length:0){case 0:t="".concat(t,":00:00");break;case 1:t="".concat(t,":00")}return g()("2020-01-01 ".concat(t)).unix()}var B=function(e){var t=C.map((function(e){return e.type})),n=Object(S.c)(t.sort(m.a),I.a);return t.includes(e)?n(e):"gray"},_=function(e){if(e.includes("unknow"))return"red";if(e.includes("home"))return"green";var t=N[e]||"location";return B(t)},R=function(e){var t=Object(u.a)(e,2),n=t[0],a=t[1],r=M.find((function(e){var t=Object(u.a)(e.range,2),r=t[0],c=t[1];return r[0]<Number(n)&&Number(n)<c[0]&&Number(a)<r[1]&&Number(a)>c[1]}));return!!r&&r.name},G=(n(183),n(1));function H(){var e=Object(a.useRef)(null),t=Object(a.useState)({width:300,height:300}),n=Object(u.a)(t,2),r=n[0],c=n[1],i=Object(a.useMemo)((function(){return r.width}),[r]),s=Object(a.useMemo)((function(){return r.height}),[r]),o=Object(a.useMemo)((function(){var e=Math.min((i-0-0)/2,(s-0-0)/2),t=Math.max(e/4,120),n=(e-t)/3;return[[0,t],[t,2.5*n],[4*n,4*n+1],[2.5*n+10,4*n-10]]}),[i,s]);Object(a.useEffect)((function(){var t=e.current,n=t.clientWidth,a=t.clientHeight;c({width:n,height:a})}),[]);var h=Object(a.useState)(!0),x=Object(u.a)(h,2),E=x[0],L=x[1],S=Object(a.useState)("mulitiple"),I=Object(u.a)(S,2),M=I[0],B=I[1],R=Object(a.useState)("intersection"),H=Object(u.a)(R,2),P=(H[0],H[1],Object(p.r)().domain([0,24]).range([0,360])),K=Object(p.r)().domain(Object(m.d)(v)).range([o[1][0],o[1][1]]),z=Object(p.r)().domain([A("00:00:00"),A("23:59:59")]).range([0,2*Math.PI]),q=Object(b.a)().innerRadius((function(e){return K(e.day)})).outerRadius((function(e){return K(e.day)+(o[1][1]-o[1][0])/v.length})).startAngle((function(e){return z(e.time)})).endAngle((function(e){return z(e.time+500)})),V=Object(a.useState)([]),W=Object(u.a)(V,2),J=W[0],Y=W[1],U=Object(a.useState)([]),X=Object(u.a)(U,2),Z=X[0],Q=X[1],$=Object(a.useState)([]),ee=Object(u.a)($,2),te=ee[0],ne=ee[1],ae=Object(a.useState)([]),re=Object(u.a)(ae,2),ce=re[0],ie=re[1],se=Object(a.useState)([]),oe=Object(u.a)(se,2),le=oe[0],ue=oe[1],me=Object(a.useMemo)((function(){return J.filter((function(e){return!Z.length||Z.includes(e.location)})).filter((function(e){return!ce.length||ce.includes(e.id)})).filter((function(e){return!le.length||le.includes(e.dayStr.replace("/2014",""))}))}),[Z,J,ce,le]),de=Object(a.useState)([]),je=Object(u.a)(de,2),pe=je[0],be=je[1];Object(a.useEffect)((function(){Object(d.a)("./data/merge_cc_and_loy.json").then((function(e){var t=e.map((function(e){var t=e.timestamp.split(" "),n=Object(u.a)(t,2),a=n[0],r=n[1],c=g()(a).unix(),i=A(r),s=C.find((function(t){return t.data.includes(e.location)})).type;return Object(l.a)(Object(l.a)({},e),{},{day:c,dayStr:a,id:e.loyaltynum,time:i,locationType:s,hour:r.split(":")[0]})})),n=Object(y.chain)(t).map("id").uniq().value();be(n),Y(t);var a=function(e){var t=Object.keys(k).map((function(t){var n=e.filter((function(e){return e.loyaltynum===t})),a=Object(y.chain)(n).map("location").uniq().value(),r=Object(y.chain)(a).map((function(e){return N[e]})).sortBy().uniq().value();return{id:t,data:n,location:a,type:r,arcData:Object(y.chain)(n).reduce((function(e,t){return e[t.locationType]={value:e[t.locationType]?w(e[t.locationType].value,t.price):Number(t.price),type:t.locationType},e}),{}).values().value()}})),n={};return t.forEach((function(e){var a=e.type.toString();t.forEach((function(t){if(e.id!==t.id&&!n["".concat(e.id,"-").concat(t.id)]&&!n["".concat(t.id,"-").concat(e.id)]){var r=t.type.toString();a===r&&(n["".concat(e.id,"-").concat(t.id)]={source:e.id,target:t.id,value:1})}}))})),[t,Object(y.chain)(n).values().filter((function(e){return e.value>0})).value()]}(e),r=Object(u.a)(a,2),c=r[0],i=r[1];fe(c,i)}))}),[]);var fe=Object(a.useMemo)((function(){return function(e,t){var n=o[0][1]-20,a=Object(p.n)(e).force("links",Object(p.l)(t).id((function(e){return e.id})).strength((function(e){return 2}))).force("charge",Object(p.m)().strength(-4)).force("collide",Object(p.k)().radius(10)).force("circle",(function(){e.forEach((function(e,t){if(function(e,t){var n=Object(u.a)(e,2),a=n[0],r=n[1],c=Object(u.a)(t,2),i=c[0],s=c[1];return Math.sqrt(Math.pow(a-i,2)+Math.pow(r-s,2))}([e.x,e.y],[0,0])>n){var a=Math.atan(e.y/e.x);e.x=n*Math.cos(a)*(e.x<0?-1:1),e.y=n*Math.sin(a)*(e.x<0?-1:1)}}))}));Object(p.x)(".custom-item").each((function(){var t=Object(p.w)(this).attr("id"),n=e.filter((function(e){return e.id===t}));Object(p.w)(this).data(n)})).call(Object(p.g)().on("start",(function(e){var t=Math.max(a.alpha(),.1);a.alpha(t).restart(),e.fx=null,e.fy=null})).on("drag",(function(e){e.x=p.i.x,e.y=p.i.y})).on("end",(function(e){e.fx=p.i.x,e.fy=p.i.y}))),Object(p.w)(".links").selectAll("line").remove();var r=Object(p.w)(".links").selectAll("line").data(t).enter().append("line").attr("stroke-width",(function(e){return 1})).attr("stroke","#e9e9e9");a.on("tick",(function(){r.attr("x1",(function(e){return e.source.x})).attr("y1",(function(e){return e.source.y})).attr("x2",(function(e){return e.target.x})).attr("y2",(function(e){return e.target.y})),Object(p.x)(".custom-item").attr("transform",(function(e){return"translate(".concat(e.x,", ").concat(e.y,")")}))}))}}),[]),Oe=Object(a.useMemo)((function(){return Object(y.chain)(me).map("id").uniq().value()}),[me]),ye=Object(a.useMemo)((function(){var e=Object(m.d)(me,(function(e){return Number(e.price)}));return Object(p.r)().domain(e).range([.2,1])}),[me]),he=Object(a.useMemo)((function(){return me.reduce((function(e,t){var n=e[t.location]||0;return e[t.location]=w(n,t.price),e}),{})}),[me]),ge=Object(a.useMemo)((function(){var e=Object(m.d)(Object.values(he));return Object(p.r)().domain(e).range([.2,1])}),[he]),ve=Object(b.a)().innerRadius((function(e){return e.inner})).outerRadius((function(e){return e.outer})).startAngle((function(e){return z(A(e.s))})).endAngle((function(e){return z(A(e.e))})).padAngle(.01).cornerRadius(4),xe=Object(b.a)().innerRadius((function(e){return o[2][0]})).outerRadius((function(e){return o[2][1]})).startAngle((function(e){return e[0]<0?z(g()("2019-12-31 ".concat(22,":00:00")).unix()):z(A(e[0]))})).endAngle((function(e){return z(A(e[1]))})).padAngle(.1).cornerRadius(4),Ce=function(e){if(!e.innerRadius||!e.outerRadius)return"";var t=[e.startAngle,e.endAngle].map((function(e){return e-Math.PI/2})),n=Math.max(0,(e.outerRadius+e.innerRadius)/2),a=(t[1]+t[0])/2,r=a>0&&a<Math.PI;r&&t.reverse();var c=Object(j.a)();return c.arc(0,0,n,t[0],t[1],r),c.toString()},Ne=Object(p.s)(C.map((function(e){return e.type})).sort(m.a),p.u),Te=Object(a.useMemo)((function(){return pe.reduce((function(e,t){var n=Object(y.chain)(me).filter((function(e){return e.id===t})).filter((function(e){return"cash"!==e.type})).reduce((function(e,t){var n=t.dayStr;return e[n]||(e[n]=[]),e[n].push(q.centroid(t)),e}),{}).values().value();return e[t]=n,e}),{})}),[pe,me,q]),ke=Object(a.useMemo)((function(){return Object(y.chain)(me).map((function(e){return e.dayStr.replace("/2014","")})).uniq().value()}),[me]),Ee=Object(f.a)().x((function(e){return e[0]})).y((function(e){return e[1]})).curve(O.a.alpha(.5)),De=["01/11","01/12","01/18","01/19"],Le=Object(a.useState)({style:{display:"none"},content:{}}),Se=Object(u.a)(Le,2),Ie=Se[0],Me=Se[1];function Fe(){Me({style:{display:"none"},content:{}})}return Object(G.jsxs)("div",{className:"consumerGraph",children:[Object(G.jsxs)("div",{className:"left",ref:e,children:[Object(G.jsx)("svg",{height:s,width:i,className:"main",children:Object(G.jsxs)("g",{transform:"translate(".concat(0,", ").concat(0,")"),children:[Object(G.jsx)("g",{className:"timebg",children:v.map((function(e,t){var n=g()(1e3*e).format("MM/DD"),a={opacity:ke.includes(n)?1:.1,transform:"translate(".concat(i/2,", ").concat(s/2-K(e),")"),cursor:"pointer",className:"timeText ".concat(le.includes(n)?"active":""),onClick:function(){ue(F(le,n,M))}};return Object(G.jsxs)("g",{children:[Object(G.jsxs)("text",Object(l.a)(Object(l.a)({},a),{},{children:[n," ",De.includes(n)?"weekend":""]})),Object(G.jsx)("circle",{cx:i/2,cy:s/2,r:K(e)})]},e)}))}),Object(G.jsx)("g",{className:"timeTick",children:[6,9,12,14,18,22].map((function(e,t){var n={x1:i/2,y1:s/2-o[2][0],x2:i/2,y2:s/2};return Object(G.jsxs)("g",{className:"timeSplit",transform:"rotate(".concat(P(e),")"),children:[Object(G.jsx)("line",Object(l.a)({},n)),Object(G.jsx)("text",{x:n.x1,y:n.y1,dy:0,children:"".concat(e,":00")})]},e)}))}),Object(G.jsx)("g",{className:"time-classify",transform:"translate(".concat(i/2,", ").concat(s/2,")"),children:T.map((function(e,t){var n={d:xe(e.data)},a={fill:"none",id:"time-".concat(t),d:Ce({innerRadius:o[2][1]+10,outerRadius:o[2][1]+10,startAngle:e.data[0]<0?z(g()("2019-12-31 ".concat(22,":00:00")).unix()):z(A(e.data[0])),endAngle:z(A(e.data[1]))})},r={href:"#time-".concat(t),startOffset:"50%",dominantBaseline:"middle"};return Object(G.jsxs)("g",{children:[Object(G.jsx)("path",Object(l.a)(Object(l.a)({},n),{},{className:"time-button"})),Object(G.jsxs)("g",{className:"time-label",children:[Object(G.jsx)("path",Object(l.a)({},a)),Object(G.jsx)("text",{children:Object(G.jsx)("textPath",Object(l.a)(Object(l.a)({},r),{},{children:e.name}))})]})]},e.data[0])}))}),Object(G.jsx)("g",{className:"consume-g",transform:"translate(".concat(i/2,", ").concat(s/2,")"),children:me.filter((function(e){return"cash"!==e.type})).map((function(e,t){var n={key:JSON.stringify(e),className:"consume-item",d:q(e),fill:_(e.location),fillOpacity:ye(e.price),onMouseEnter:function(t){Me({style:{display:"block",left:t.clientX+10,top:t.clientY},content:{loyaltynum:e.loyaltynum,location:e.location,time:e.timestamp,price:e.price,type:e.type}})},onMouseOut:Fe};return Object(G.jsx)("path",Object(l.a)({},n))}))}),Object(G.jsx)("g",{className:"detail-store",transform:"translate(".concat(i/2,", ").concat(s/2,")"),children:Object.entries(D).map((function(e,t){var n=Object(u.a)(e,2),a=n[0],r=n[1],c=N[a];return Object(G.jsx)("g",{children:r.map((function(e){var t="".concat(a,"-").concat(e.s),n=z(A(e.s)),r=z(A(e.e)),i=(o[3][1]-o[3][0])/9,s=o[3][0]+i*(e.d-1),u=s+i,m={d:ve({inner:s,outer:u,s:e.s,e:e.e}),fill:Ne(c),stroke:Ne(c),fillOpacity:ge(he[a])},d={fill:"none",id:"text-".concat(t),d:Ce({innerRadius:(s+u)/2,outerRadius:(s+u)/2,startAngle:n,endAngle:r})},j={href:"#text-".concat(t),startOffset:"50%",dominantBaseline:"middle",textAnchor:"middle"},p=Z.includes(a)?"active":"";Z.length>0&&!Z.includes(a)&&(p="disabled");var b=me.map((function(e){return e.location})).includes(a)?1:.1,f=(n+r)/2,O=f>Math.PI/2&&f<Math.PI/2*3,h=(O?a.split(" ").reverse():a.split(" "),{key:t,opacity:b,className:p,onClick:function(){var e=F(Z,a,M),t=Object(y.chain)(e).map((function(e){return N[e]})).uniq().value();Q(e),ne(t)},onMouseEnter:function(t){Me({style:{display:"block",left:t.clientX+10,top:t.clientY},content:{name:a,"consume st":"".concat(e.s),"consume et":"".concat(e.e),"consume price":he[a]}})},onMouseOut:Fe});return Object(G.jsxs)("g",Object(l.a)(Object(l.a)({},h),{},{children:[Object(G.jsx)("path",Object(l.a)(Object(l.a)({},m),{},{className:"store-button"})),Object(G.jsxs)("g",{className:"store-label",children:[Object(G.jsx)("path",Object(l.a)({},d)),Object(G.jsx)("text",{children:Object(G.jsx)("textPath",Object(l.a)(Object(l.a)({},j),{},{children:a.split(" ").map((function(e){return e[0]})).join().replace(/,/g,"")}))})]})]}))}))},a)}))}),Object(G.jsxs)("g",{className:"customer",transform:"translate(".concat(i/2,", ").concat(s/2,")"),children:[Object(G.jsx)("circle",{className:"bg",cx:0,cy:0,r:o[1][0]}),Object(G.jsx)("g",{className:"links"}),Object(G.jsx)("g",{children:pe.map((function(e,t){var n=Oe.includes(e)?1:.1,a=J.filter((function(t){return t.id===e})),r=a.reduce((function(e,t){return w(e,t.price)}),0),c=a.filter((function(e){return"cash"===e.type})).reduce((function(e,t){return w(e,t.price)}),0),i=a.filter((function(e){return"justCC"===e.type})).reduce((function(e,t){return w(e,t.price)}),0),s=a.filter((function(e){return"right"===e.type})).reduce((function(e,t){return w(e,t.price)}),0),o=Object(y.chain)(a).reduce((function(e,t){return e[t.locationType]={value:e[t.locationType]?w(e[t.locationType].value,t.price):Number(t.price),type:t.locationType},e}),{}).values().value(),u=a.reduce((function(e,t){return w(e,t.price)}),0),m=Object(p.r)().domain([0,u]).range([0,2*Math.PI]),d=Object(b.a)().innerRadius(0).outerRadius(5).startAngle((function(e){var t=o.findIndex((function(t){return t.type===e.type})),n=Object(y.chain)(o).slice(0,t).map("value").reduce((function(e,t){return w(e,t)}),0).value();return m(n)})).endAngle((function(e){var t=o.findIndex((function(t){return t.type===e.type})),n=Object(y.chain)(o).slice(0,t).map("value").reduce((function(e,t){return w(e,t)}),0).value()+e.value;return m(n)})),j={opacity:n,id:e,className:"custom-item",transform:"translate(".concat(10*t,", ",0,")"),onClick:function(){var t=F(ce,e,M);ie(t)},onMouseEnter:function(t){Me({style:{display:"block",left:t.clientX+10,top:t.clientY},content:{number:e,total:r,"justcc price":i,"cash price":c,"right price":s}})},onMouseOut:Fe};return Object(G.jsxs)("g",Object(l.a)(Object(l.a)({},j),{},{children:[o.map((function(e){var t={d:d(e),key:"small-".concat(e.type),fill:Ne(e.type),stroke:Ne(e.type),fillOpacity:.3};return Object(G.jsx)("path",Object(l.a)({},t))})),Object(G.jsx)("text",{dy:-8,children:e})]}))}))})]}),Object(G.jsx)("g",{className:"customerTrack",transform:"translate(".concat(i/2,", ").concat(s/2,")"),children:Object.entries(Te).map((function(e){var t=Object(u.a)(e,2),n=t[0],a=t[1],r=ce.includes(n)?1:0;return r&&(r=E?1:0),Object(G.jsx)("g",{opacity:r,children:a.map((function(e){return Object(G.jsx)("path",{d:Ee(e)},e.toString())}))},n)}))})]})}),Object(G.jsx)("div",{className:"tooltips",style:Ie.style,children:Object.entries(Ie.content).map((function(e){return Object(G.jsxs)("div",{className:"tooltip-line",children:[Object(G.jsxs)("div",{className:"tooltip-label",children:[e[0],": "]}),Object(G.jsx)("div",{className:"tooltip-value",children:e[1]})]},e[0])}))})]}),Object(G.jsxs)("div",{className:"right",children:[Object(G.jsxs)("div",{className:"condition",children:[Object(G.jsxs)("div",{className:"item",children:["select mode\uff1a",["single","mulitiple"].map((function(e){return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)("label",{htmlFor:e,children:e}),Object(G.jsx)("input",{type:"radio",name:"select-mode",checked:M===e,onChange:function(){M!==e&&B(e)},value:e,id:e})]})}))]}),Object(G.jsxs)("div",{className:"item",children:["show customer track\uff1a",Object(G.jsx)("input",{type:"checkbox",name:"track-mode",checked:E,onChange:function(){L(!E)}})]}),Object(G.jsx)("div",{className:"item",children:Object(G.jsx)("button",{onClick:function(){Q([]),ne([]),ie([])},children:"Refresh"})})]}),Object(G.jsx)("div",{className:"legend",children:C.map((function(e){var t=e.type,n=Ne(t),a=Object(p.e)(n);a.opacity=.6,a+="";var r=te.includes(t)?"active":"";return te.length>0&&!te.includes(t)&&(r="disabled"),Object(G.jsxs)("div",{className:"legend-item ".concat(r),onClick:function(){var e=F(te,t,M);ne(e);var n=Object(y.chain)(C).filter((function(t){return e.includes(t.type)})).map("data").flatten().value();Q(n)},children:[Object(G.jsx)("div",{className:"legend-label",style:{backgroundColor:a,borderColor:n}}),Object(G.jsx)("div",{className:"legend-name",children:t})]})}))})]})]})}n(185),n(72),n(186);var P=[{name:"Sleep.Morning",key:"sm",range:[0,6]},{name:"Breakfast",key:"bf",range:[6,9]},{name:"Working.AM",key:"wa",range:[9,12]},{name:"Lunch",key:"l",range:[12,15]},{name:"Working.PM",key:"wp",range:[15,18]},{name:"Dinner",key:"d",range:[18,20]},{name:"After Dinner",key:"ad",range:[20,22]},{name:"Sleep.Night",key:"sn",range:[22,24]}];var K=40,z=300,q=640,V=Object(p.o)().curve(p.f);function W(){var e=Object(a.useMemo)((function(){return Object(p.t)([new Date("2020-01-01 00:00:00"),new Date("2020-01-01 23:59:59")],[0,820])}),[]);Object(a.useEffect)((function(){var t=P.map((function(e){return new Date("2020-01-01 ".concat(e.range[0],":00:00"))})),n=function(e){return g()(e).format("HH:mm")};Object(p.w)(".timeAxisBottom").call(Object(p.a)().tickValues(t).tickFormat(n).scale(e)),Object(p.w)(".timeAxisTop").call(Object(p.b)().tickValues(t).tickFormat(n).scale(e))}),[e]);var t=Object(a.useState)([]),n=Object(u.a)(t,2),r=n[0],c=n[1];Object(a.useEffect)((function(){Object(d.a)("./data/gpswithstop.json").then((function(e){var t=0;e.forEach((function(e){var n=e.stopArr.map((function(e){var n=e.long,a=e.lat,r=R([n,a]);if(!r){var c={name:"unknow_".concat(t),desc:"",range:[[Number(n)-.001,Number(a)+.001],[Number(n)+.001,Number(a)-.001]],type:"unknow"};M.push(c),r=R([n,a]),t+=1}var i=M.find((function(e){return e.name===r}));return Object(l.a)(Object(l.a)({},e),{},{location:r,locationInfo:i})}));e.stopArr=n})),console.log(e),c(e)}))}),[]);var i=Object(a.useMemo)((function(){return r.map((function(e){return e.id}))}),[r]),s=Object(a.useMemo)((function(){return Object(p.q)(i,[0,q])}),[i]),o=Object(a.useMemo)((function(){return Object(p.s)(i,p.v)}),[i]),m=Object(a.useState)(["1"]),j=Object(u.a)(m,2),b=j[0],f=j[1],O=Object(a.useMemo)((function(){return Object(p.q)(x,[0,q]).paddingInner(.1)}),[]),h=Object(a.useState)(x),v=Object(u.a)(h,2),C=v[0],N=v[1],T=Object(a.useState)([]),k=Object(u.a)(T,2),D=k[0],L=k[1],S=Object(a.useState)([]),I=Object(u.a)(S,2),w=I[0],A=I[1];Object(a.useEffect)((function(){var e=r.filter((function(e){return b.includes(e.id)})).map((function(e){return{id:e.id,stopArr:e.stopArr.filter((function(e){return C.includes(e.st.split(" ")[0])}))}}));A(e)}),[r,b,C]);var B=Object(a.useMemo)((function(){return Object(p.r)()}),[]),H=Object(a.useState)([]),W=Object(u.a)(H,2),J=W[0],Y=W[1],U=Object(a.useState)([]),X=Object(u.a)(U,2),Z=X[0],Q=X[1],$=Object(a.useMemo)((function(){var e=Object(y.chain)(w).map("stopArr").flatten().map((function(e){var t=e.st,n=t.split(" "),a=Object(u.a)(n,1)[0],r=parseInt(t.split(" ")[1].split(":")[0]),c=function(e){return P.find((function(t){return t.range[0]<=e&&t.range[1]>e})).key}(r);return Object(l.a)(Object(l.a)({},e),{},{hour:r,time:a,range:c})})).value(),t=Object(y.chain)(e).map((function(e){return e.locationInfo.classify})).uniq().map((function(t){var n=Object(y.chain)(e).filter((function(e){return e.locationInfo.classify===t})).map("location").uniq().value();return{classify:t,data:n}})).value();Y(t);var n=Object(y.chain)(e).map("data").flatten().countBy("range").values().maxBy().value();return B.domain([0,n]).range([4,1e3]),e}),[B,w]),ee=Object(a.useMemo)((function(){return P.reduce((function(e,t){var n=$.filter((function(e){return e.range===t.key})),a=Object(y.countBy)(n.map((function(e){return e.location}))),r=Object(y.chain)(a).entries().map((function(e){return{name:e[0],value:e[1]}})).orderBy("value","desc").value(),c=Object(y.sumBy)(r,"value"),i=[],s=B(c)+20*(r.length-1),o=(q-s)/2,u=r.map((function(e,t){i.push(e.name);var n=Object(y.sumBy)(r.slice(0,t),"value");return o+B(c)*n/c+20*t}));return e[t.key]=Object(l.a)(Object(l.a)({},t),{},{data:n,scale:Object(p.s)(i,u)}),i.forEach((function(r){var c=a[r],i=Object(y.chain)(n).filter((function(e){return e.location===r})).map("id").uniq().sortBy().value();e[t.key]["".concat(r,"Scale")]=Object(p.r)([1,c],[0,B(c)]),e[t.key]["".concat(r,"CarIdScale")]=Object(p.q)(i,[0,B(c)])})),e}),{})}),[$,B]),te=Object(a.useMemo)((function(){return Object(y.chain)($).reduce((function(e,t){var n="".concat(t.range,"-").concat(t.location),a=e[n]?e[n].data:[];a.push(t);var r=Object(p.j)(Object(y.chain)(a).map("st").map((function(e){return new Date("2020-01-01 ".concat(e.split(" ")[1])).getTime()})).value()).map((function(e){return g()(e).format("MM/DD/YYYY HH:mm:ss")})),c=Object(u.a)(r,2),i=c[0],s=c[1];return e[n]={key:n,data:a,range:t.range,st:i,et:s,location:t.location,locationInfo:t.locationInfo,count:a.length},e}),{}).values().value()}),[$]),ne=Object(a.useMemo)((function(){return Object(y.chain)($).reduce((function(e,t){var n=e[t.id]?e[t.id].data:[];return n.push(t),e[t.id]={id:t.id,data:n},e}),{}).values().map((function(e){var t=e.data;return{id:e.id,track:Object(y.chain)(t).reduce((function(e,t){var n=t.day;return e[n]||(e[n]=[]),e[n].push(t),e}),{}).values().reduce((function(e,t){return t.forEach((function(n,a){if(0!==a){var r=t[a-1].location,c=t[a-1].range,i=n.location,s=n.range,o="".concat(r,"-").concat(c,"-").concat(i,"-").concat(s);e[o]={key:o,source:r,target:i,sourceRange:c,targetRange:s,count:e[o]?e[o].count+1:1}}})),e}),{}).values().value()}})).value()}),[$]),ae=Object(a.useMemo)((function(){var e=Object(p.j)(Object(y.chain)(ne).map("track").flatten().map("count").value());return Object(p.r)(e,[1,5])}),[ne]),re=Object(a.useState)({style:{display:"none"},content:{name:""}}),ce=Object(u.a)(re,2),ie=ce[0],se=ce[1],oe=function(){return se({style:{display:"none"},content:{name:""}})},le={};return Object(G.jsxs)("div",{className:"carTrackGraph",children:[Object(G.jsxs)("svg",{height:700,width:1140,children:[Object(G.jsxs)("g",{className:"bg-left",transform:"translate(".concat(100,", ",K,")"),children:[Object(G.jsx)("g",{className:"car",children:i.map((function(e){var t={key:e,transform:"translate(".concat(0,", ",s(e)+s.bandwidth()/2,")"),className:"carItem ".concat(b.includes(e)?"active":"disabled"),onClick:function(){var t=F(b,e,"mulity");f(t)}},n=o(e),a={cx:0,cy:0,stroke:n,fill:n};return Object(G.jsxs)("g",Object(l.a)(Object(l.a)({},t),{},{children:[Object(G.jsx)("circle",Object(l.a)({},a)),Object(G.jsx)("text",Object(l.a)(Object(l.a)({},{dx:6,dy:3}),{},{children:e}))]}))}))}),Object(G.jsx)("g",{className:"day",transform:"translate(100, 0)",children:x.map((function(e){var t=O(e),n=O.bandwidth(),a={key:e,transform:"translate(".concat(0,", ",t+n/2,")"),className:"dayItem ".concat(C.includes(e)?"active":"disabled"),onClick:function(){var t=F(C,e,"mulity");N(t)}},r={x:0,y:-n/2,height:n},c=e.split("/")[1];return Object(G.jsxs)("g",Object(l.a)(Object(l.a)({},a),{},{children:[Object(G.jsx)("rect",Object(l.a)({},r)),Object(G.jsx)("text",Object(l.a)(Object(l.a)({},{dx:14}),{},{children:"".concat(c," ").concat(["11","12","17","18"].includes(c)?"weekend":"")}))]}))}))})]}),Object(G.jsx)("g",{className:"bg-right",transform:"translate(".concat(z,", ").concat(K,")"),children:Object(G.jsxs)("g",{className:"transform-g",children:[Object(G.jsx)("g",{className:"timeAxisTop",transform:"translate(".concat(0,", ",0,")")}),Object(G.jsx)("g",{className:"timeAxisBottom",transform:"translate(".concat(0,", ",640,")")}),Object(G.jsx)("g",{className:"timeRange",children:P.map((function(t){var n=e(new Date("2020-01-01 ".concat(t.range[0],":00:00"))),a=(e(new Date("2020-01-01 ".concat(t.range[1],":00:00")))-n)/2,r={x1:0,x2:0,y1:0,y2:q,stroke:"#d9d9d9",strokeDasharray:10},c={transform:"translate(".concat(n,", 0)"),key:t.name},i={dx:a,textAnchor:"middle",dy:-10,fontSize:8,fill:"#000"};return Object(G.jsxs)("g",Object(l.a)(Object(l.a)({},c),{},{children:[Object(G.jsx)("line",Object(l.a)({},r)),Object(G.jsx)("text",Object(l.a)(Object(l.a)({},i),{},{children:t.name}))]}))}))}),Object(G.jsx)("g",{className:"car",children:ne.map((function(t,n){var a=t.id,r=t.track,c=o(a);return Object(G.jsx)("g",{className:"trackItem",children:r.map((function(t){var n=t.source,r=t.sourceRange,i=t.target,s=t.targetRange,o=(0,ee[r].scale)(n),u=ee[s].scale;o+=ee[r]["".concat(n,"CarIdScale")](a),o+=ee[r]["".concat(n,"CarIdScale")].bandwidth()/2;var m=u(i);m+=ee[s]["".concat(i,"CarIdScale")](a),m+=ee[s]["".concat(i,"CarIdScale")].bandwidth()/2;var d=te.find((function(e){return e.location===n&&e.range===r})),j=e(new Date("2020-01-01 ".concat(d.et.split(" ")[1]))),b=te.find((function(e){return e.location===i&&e.range===s})),f=e(new Date("2020-01-01 ".concat(b.st.split(" ")[1])));d.st===d.et&&(j+=10);var O=[[j,o],[f,m]],y={fill:"none",stroke:c,strokeWidth:ae(t.count),strokeOpacity:ae(t.count)/5},h={opacity:D.includes(b.location)||D.includes(d.location)?.1:1,key:t.key,stroke:c};return Object(G.jsxs)("g",Object(l.a)(Object(l.a)({},h),{},{children:[Object(G.jsx)("path",Object(l.a)({d:V(O)},y)),Object(G.jsx)("line",{x1:O[0][0],y1:O[0][1]-3,x2:O[0][0],y2:O[0][1]+3,strokeWidth:2}),Object(G.jsx)("path",{d:Object(p.o)()([[O[1][0]-2,O[1][1]-2],[O[1][0]+2,O[1][1]],[O[1][0]-2,O[1][1]+2],[O[1][0]-2,O[1][1]-2]]),fill:"#fff"})]}))}))},"".concat(a,"-track"))}))}),Object(G.jsx)("g",{className:"stopLocation",children:te.map((function(t){var n=t.st,a=t.et,r=t.range,c=t.location,i=t.key,s=t.count,u=t.data,m=ee[r].scale,d=e(new Date("2020-01-01 ".concat(n.split(" ")[1]))),j=e(new Date("2020-01-01 ".concat(a.split(" ")[1])));j<d&&(j=e(new Date("2020-01-01 23:59:59")));var b=m(c),f=B(s),O=_(c),h=j-d||10,g={x:0,y:0,width:h,height:f,fill:O},v=D.includes(c)?.01:1,x="stopLocationItem-".concat(r,"-").concat(c.replace(/['\s]/g,"")),C={key:i,fontSize:9,opacity:v,className:"stopLocationItem ".concat(x," ").concat(Z.includes(i)?"active":""),"transform-origin":"".concat(d," ").concat(b),onMouseEnter:function(){var e=Object(y.chain)(u).map("id").countBy().entries().map((function(e){return e.join(":")})).join("/n").value(),n={name:c,type:t.locationInfo.classify,"vis count":s,"relate car":e};se({style:{display:"flex",left:j+z,top:b+K},content:n})},onMouseOut:oe,onClick:function(){oe(),Q(F(Z,i));var e=Math.min(q/f,820/h)/2,t=(820-h*e)/2-d,n=(q-f*e)/2-b;Z.includes(i)?Object(p.w)(".".concat(x)).transition().ease(p.h).duration(100).attr("transform","translate(0, 0)"):(Object(p.w)(".stopLocationItem.active").transition().ease(p.h).duration(100).attr("transform","translate(0, 0)"),Object(p.w)(".".concat(x)).transition().ease(p.h).duration(100).attr("transform","translate(".concat(t," ").concat(n,") scale(").concat(e,")")))}};return Object(G.jsxs)("g",Object(l.a)(Object(l.a)({},C),{},{children:[Object(G.jsxs)("g",{className:"stopBg",transform:"translate(".concat(d,", ").concat(b,")"),children:[Object(G.jsx)("rect",Object(l.a)({},g)),Object(G.jsx)("text",{dx:g.width/2,children:t.location})]}),Object(G.jsx)("g",{className:"stopDetail",children:u.map((function(t){var n=t.st,a=t.et,r=t.location,c=t.range,i=t.id,s=o(i),u=e(new Date("2020-01-01 ".concat(n.split(" ")[1]))),m="".concat(c,"-").concat(r);le[m]?le[m]=le[m]+1:le[m]=1;var d=b+ee[c]["".concat(r,"Scale")](le[m]),j={key:"".concat(r,"-").concat(a,"-").concat(n),transform:"translate(".concat(u,", ").concat(d,")"),stroke:s,fill:s,fillOpacity:.4,r:2,onMouseEnter:function(){var e=E.find((function(e){return e.CarID===i})),r=e?{user:"".concat(e.FirstName," ").concat(e.LastName),type:e.CurrentEmploymentType,title:e.CurrentEmploymentTitle}:{},c=Object(l.a)(Object(l.a)({car:i},r),{},{starttime:n,endtime:a,duration:"".concat(t.hour," hour")});se({style:{display:"flex",left:u+z,top:d+K},content:c})}};return Object(G.jsx)("circle",Object(l.a)({},j))}))})]}))}))})]})})]}),Object(G.jsx)("div",{className:"location",children:J.map((function(e){return Object(G.jsxs)("div",{className:"location-classify",children:[Object(G.jsxs)("div",{className:"classify-item",children:[Object(G.jsx)("div",{className:"classify-item-label",style:{background:_(e.data[0])}}),Object(G.jsx)("div",{className:"classify-item-value",children:e.classify})]}),Object(G.jsx)("div",{className:"location-classify-cotent",children:e.data.map((function(e){var t={className:"loaction-item ".concat(D.includes(e)?"disabled":""),key:e,onClick:function(){L(F(D,e,"mul"))}};return Object(G.jsx)("div",Object(l.a)(Object(l.a)({},t),{},{children:e}))}))})]},e.classify)}))}),Object(G.jsx)("div",{className:"tooltips tooltips-location",style:ie.style,children:Object.entries(ie.content).map((function(e){var t=Object(u.a)(e,2),n=t[0],a=t[1];return Object(G.jsxs)("div",{className:"tooltip-line",children:[Object(G.jsxs)("div",{className:"tooltip-label",children:[n,":"]}),Object(G.jsx)("div",{className:"tooltip-value",children:a.toString().split("/n").map((function(e){return Object(G.jsx)("span",{children:e},e)}))})]},n)}))})]})}function J(){var e=Object(a.useRef)(null);return Object(a.useEffect)((function(){}),[]),Object(G.jsxs)("div",{children:[Object(G.jsx)(W,{}),Object(G.jsx)("svg",{ref:e})]})}var Y=n(195),U=n(196),X=n(112),Z=n(25),Q=n(115);n(187);function $(e,t){var n=Object(L.a)(e);return n.includes(t)?n.filter((function(e){return e!==t})):(n.push(t),n)}function ee(){var e=1e3,t=Object(a.useRef)(null),n=Object(a.useRef)(null),r=Object(a.useState)([]),c=Object(u.a)(r,2),i=c[0],s=c[1],o=Object(a.useState)([]),m=Object(u.a)(o,2),j=m[0],b=m[1],f=Object(a.useMemo)((function(){return Object(Y.a)()}),[]),O=Object(a.useMemo)((function(){return Object(S.c)().domain(j.map((function(e){return e.id}))).range(p.u)}),[j]),h=Object(a.useState)([]),g=Object(u.a)(h,2),v=g[0],C=g[1],N=Object(a.useState)(x),T=Object(u.a)(N,2),k=T[0],D=T[1],L=Object(a.useState)(["00:00:00","23:59:59"].map((function(e){return A(e)}))),I=Object(u.a)(L,2),F=I[0],w=I[1],_=Object(a.useMemo)((function(){return Object(y.chain)(j).map("id").uniq().map((function(e){var t=E.find((function(t){return t.CarID===e}));return t?{id:e,name:"".concat(t.FirstName," ").concat(t.LastName),type:t.CurrentEmploymentType,title:t.CurrentEmploymentTitle}:{id:e}})).value()}),[j]);Object(a.useEffect)((function(){Object(d.a)("./data/map.json").then((function(t){f.fitSize([e,600],t),window.projection=f,s(t.features),Object(d.a)("./data/gpswithstop.json").then((function(e){b(e)}))}))}),[]);var R=Object(a.useRef)(null);Object(a.useEffect)((function(){Object(X.a)(R.current).call(Object(p.c)().extent([[0,0],[e,600]]).on("end",(function(e){var t=Z.c.selection;if(t){var n=[];console.log(t.map((function(e){return f.invert(e)}))),Object(Q.a)(".stopDot").filter((function(){return t[0][0]<=Object(X.a)(this).attr("cx")&&t[1][0]>=Object(X.a)(this).attr("cx")&&t[0][1]<=Object(X.a)(this).attr("cy")&&t[1][1]>=Object(X.a)(this).attr("cy")})).each((function(){n.push(JSON.parse(Object(X.a)(this).attr("data")))})),console.log(n)}})))}),[]);var H=Object(a.useMemo)((function(){return j.filter((function(e){return v.includes(e.id)}))}),[v,j]),P=Object(a.useMemo)((function(){return Object(y.chain)(H).map((function(e){return e.stopArr})).flatten().filter((function(e){return k.includes(e.st.split(" ")[0])})).filter((function(e){var t=A(e.st.split(" ")[1]);return t>=F[0]&&t<=F[1]})).value()}),[k,F,H]),K=Object(a.useMemo)((function(){var e=H.length?Object(p.j)(Object(y.chain)(H).map("stopArr").flatten().value(),(function(e){return e.gap})):[0,0];return Object(S.b)().domain(e).range([5,5])}),[H]),z=Object(a.useState)({style:{display:"none"},content:{}}),q=Object(u.a)(z,2),V=q[0];q[1];return Object(G.jsxs)("div",{className:"second-graph",children:[Object(G.jsx)("div",{children:Object(G.jsx)("img",{src:"./data/bg.jpeg",className:"realMap",alt:"map"})}),Object(G.jsx)("div",{className:"tooltip",style:V.style,children:Object.entries(V.content).map((function(e){var t=Object(u.a)(e,2),n=t[0],a=t[1];return Object(G.jsxs)("div",{className:"tooltip-item",children:[Object(G.jsxs)("span",{className:"tooltips-label",children:[n,": "]}),Object(G.jsx)("span",{className:"tooltips-value",children:a})]},n)}))}),Object(G.jsxs)("div",{className:"mapcontainer",children:[Object(G.jsx)("svg",{height:600,width:e,className:"mapSvg",children:Object(G.jsxs)("g",{className:"bg",children:[Object(G.jsx)("g",{className:"map",ref:t,children:i.map((function(e,t){return Object(G.jsx)("path",{className:"map-item",d:Object(U.a)(f)(e)},t)}))}),Object(G.jsx)("g",{ref:R}),Object(G.jsx)("g",{className:"track",ref:n,children:H.map((function(e){var t=e.id,n=e.data.filter((function(e){return k.includes(e.Timestamp.split(" ")[0])})).filter((function(e){var t=A(e.Timestamp.split(" ")[1]);return t>=F[0]&&t<=F[1]})).map((function(e){return f([e.long,e.lat])})),a={stroke:O(t),d:Object(p.o)()(n),className:"path"},r={strokeWidth:10,className:"arrow",d:Object(p.o)()(n),strokeDasharray:[10,99990]};return Object(G.jsxs)("g",{className:"trackItem trackItem-".concat(t),children:[Object(G.jsx)("path",Object(l.a)({},a)),Object(G.jsx)("path",Object(l.a)({},r))]},t)}))}),Object(G.jsx)("g",{className:"stop",children:P.map((function(e,t){var n=e.id,a=e.long,r=e.lat,c=e.gap,i=f([a,r]),s=Object(u.a)(i,2),o=s[0],m=s[1],d="".concat(a,"_").concat(r,"_").concat(n),j="stopitem_".concat(d),p={cx:o,cy:m,r:K(c),key:d,fill:O(n),stroke:O(n),className:"stopDot ".concat(j),data:JSON.stringify(e)};return Object(G.jsx)("circle",Object(l.a)({},p))}))}),Object(G.jsx)("g",{className:"store",children:M.map((function(e){var t=e.range,n=e.name,a=n.replace(/'|\.|\s/g,""),r=f(t[0]),c=Object(u.a)(r,2),i=c[0],s=c[1],o=f(t[1]),m=Object(u.a)(o,2),d=m[0],j={x:i,y:s,height:m[1]-s,width:d-i,fill:B(e.classify),stroke:B(e.classify),fillOpacity:.3,onMouseEnter:function(){Object(X.a)(".".concat(a,"_label")).attr("display",null)},onMouseOut:function(){Object(X.a)(".".concat(a,"_label")).attr("display","none")}},p={x:i+(d-i)/2,y:s-10,textAnchor:"middle",fontSize:"12px",fontWeight:"bolder",display:"none",className:"".concat(a,"_label"),TextEvent:"none"},b={key:"store-".concat(n)};return Object(G.jsxs)("g",Object(l.a)(Object(l.a)({},b),{},{children:[Object(G.jsx)("rect",Object(l.a)({},j)),Object(G.jsx)("text",Object(l.a)(Object(l.a)({},p),{},{children:n}))]}))}))})]})}),Object(G.jsx)("div",{className:"carlist",children:Object(G.jsxs)("table",{children:[Object(G.jsxs)("thead",{children:[Object(G.jsx)("th",{children:"Color"}),Object(G.jsx)("th",{children:"CarID"}),Object(G.jsx)("th",{children:"Staff"})]}),Object(G.jsx)("tbody",{children:_.map((function(e){return Object(G.jsxs)("tr",{className:"".concat(v.includes(e.id)?"active":0),onClick:function(){var t=$(v,e.id);C(t)},children:[Object(G.jsx)("td",{children:Object(G.jsx)("div",{className:"color-legend",style:{background:O(e.id)}})}),Object(G.jsx)("td",{children:e.id}),Object(G.jsx)("td",{children:e.name})]},e.id)}))})]})})]}),Object(G.jsx)("div",{className:"second",children:Object(G.jsx)(te,{GasData:j.filter((function(e){return v.includes(e.id)})),selectDay:k,selectDayCB:function(e){D(e)},brushCB:function(e){return w(e.map((function(e){return A(e)})))},playCB:function(){Object(Q.a)(".trackItem").each((function(){var e=Object(X.a)(this).select(".path"),t=e.node().getTotalLength();e.attr("stroke-dasharray",t+" "+t).attr("stroke-dashoffset",t).transition().ease(p.h).attr("stroke-dashoffset",0).duration(1e4),Object(X.a)(this).select(".arrow").attr("stroke-width",10).attr("stroke-dasharray",(function(){return[10,t-10]})).attr("stroke-dashoffset",t).transition().ease(p.h).attr("stroke-dashoffset",10.5).duration(1e4)}))}})})]})}function te(e){var t=e.GasData,n=e.selectDay,r=e.selectDayCB,c=e.brushCB,i=e.playCB,s=460,o=880,m=Object(a.useRef)(null),d=Object(a.useRef)(null),j=Object(a.useRef)(null),b=Object(S.e)().domain([new Date("2020-01-01 00:00:00"),new Date("2020-01-01 23:59:59")]).range([0,o]),f=Object(p.b)().scale(b),O=Object(p.a)().scale(b);Object(a.useEffect)((function(){Object(X.a)(m.current).call(f),Object(X.a)(d.current).call(O),Object(X.a)(j.current).call(Object(p.d)().extent([[0,0],[o,s]]).on("end",(function(){var e=Z.c.selection;if(e){var t=e.map((function(e){return b.invert(e)})).map((function(e){return g()(e).format("HH:mm:ss")}));c(t),console.log(t)}else c(["00:00:00","23:59:59"])})))}),[]);var h=Object(S.d)().domain(x).range([s/x.length,s]).align(1),v=Object(a.useMemo)((function(){return Object(y.chain)(t).cloneDeep().forEach((function(e){var t=e.data,n=e.stopArr;e.day=Object(y.chain)(x).reduce((function(e,a){return e[a]={track:t.filter((function(e){return e.Timestamp.split(" ")[0]===a})),stopDot:n.filter((function(e){return e.st.split(" ")[0]===a}))},e}),{}).value()})).value()}),[t]),C=h.step(),T=Object(a.useMemo)((function(){return Object(S.d)().domain(t.map((function(e){return e.id}))).range([0,C]).align(0)}),[t]);return Object(G.jsxs)("div",{className:"explain",children:[Object(G.jsxs)("div",{className:"toolbox",children:[Object(G.jsx)("button",{onClick:function(){i(),Object(X.a)(".scaleplate").attr("x1",0).attr("x2",0).transition().ease(p.h).attr("x1",o).attr("x2",o).duration(1e4),Object(X.a)(".scaleplate").transition().attr("x1",0).attr("x2",0).delay(1e4)},children:"play"}),Object(G.jsx)("input",{type:"checkbox",id:"checkall",onChange:function(e){var t=e.target.checked;r(t?x:[])}}),Object(G.jsx)("label",{htmlFor:"checkall",children:"\u5168\u9009"})]}),Object(G.jsx)("svg",{width:1e3,height:500,className:"timeScale",children:Object(G.jsxs)("g",{className:"bg",transform:"translate(".concat(20,", ").concat(20,")"),children:[Object(G.jsx)("g",{ref:m}),Object(G.jsx)("g",{ref:d,transform:"translate(0, ".concat(s,")")}),Object(G.jsx)("line",{className:"scaleplate",x1:0,y1:0,x2:0,y2:s}),Object(G.jsx)("g",{className:"brush",ref:j}),x.map((function(e){var t=n.includes(e)?"":"disabled";return Object(G.jsxs)("g",{transform:"translate(".concat(0,", ",h(e),")"),className:"dayItem ".concat(t),children:[Object(G.jsx)("line",{x1:0,y1:0,x2:o,y2:0}),Object(G.jsx)("text",{onClick:function(){$(n,e);r(e)},transform:"translate(".concat(890,", ").concat(-C/2,")"),children:e})]},e)})),v.map((function(e,t){var n=e.day,a=e.id;return Object.entries(n).map((function(e){var n=Object(u.a)(e,2),r=n[0],c=n[1].stopDot,i=Object(p.p)();c.forEach((function(e,t){var n=b(new Date("2020-01-01 ".concat(e.st.split(" ")[1]))),a=b(new Date("2020-01-01 ".concat(e.et.split(" ")[1])));0===t&&i.moveTo(n,0),i.lineTo(n,0),i.lineTo(n,-10),e.et.split(" ")[0]===r&&(i.lineTo(a,-10),i.lineTo(a,-0))})),console.log(T(a));var s=C/(v.length+1)*(t+1);return Object(G.jsx)("g",{transform:"translate(".concat(0,", ",h(r)-C+s,")"),children:c.map((function(e){var t=R([e.long,e.lat]),n=b(new Date("2020-01-01 ".concat(e.st.split(" ")[1]))),c=b(new Date("2020-01-01 ".concat(e.et.split(" ")[1])));c<n&&(c=b(new Date("2020-01-01 23:59:59")));var i=t?N[t]:"location",s={x1:0,y1:0,x2:c-n,y2:0,strokeWidth:2,fill:B(i),stroke:B(i),className:"stopItem",fillOpacity:.2,rx:5,ry:5},o={fontSize:6,x:(c-n)/2,y:-6,textAnchor:"middle",className:"stopItemLabel"};return Object(G.jsxs)("g",{transform:"translate(".concat(n,", ",0,")"),children:[Object(G.jsx)("text",Object(l.a)(Object(l.a)({},o),{},{children:t?t.split(" ").map((function(e){return e[0]})).join("-"):""})),Object(G.jsx)("line",Object(l.a)(Object(l.a)({},s),{},{children:Object(G.jsx)("title",{children:"\u65f6\u95f4: ".concat(e.st.split(" ")[1],"--").concat(e.et.split(" ")[1],"\n\u5730\u70b9: ").concat(t,"\n\u6c7d\u8f66: ").concat(a,"\n\u6d88\u8d39: ...")})}))]},"".concat(r,"-").concat(a,"-").concat(n))}))},"".concat(r,"-").concat(a))}))}))]})})]})}function ne(e){var t=e.children;return Object(G.jsx)("div",{children:t})}var ae=function(){return Object(G.jsx)("div",{className:"App",children:Object(G.jsxs)(s.a,{children:[Object(G.jsxs)("div",{className:"nav",children:[Object(G.jsx)(s.b,{to:"/first",children:"first Q"}),Object(G.jsx)(s.b,{to:"/map",children:"map"}),Object(G.jsx)(s.b,{to:"/cal",children:"cal"})]}),Object(G.jsx)(ne,{children:Object(G.jsxs)(o.d,{children:[Object(G.jsx)(o.b,{path:"/first",children:Object(G.jsx)(H,{})}),Object(G.jsx)(o.b,{path:"/map",children:Object(G.jsx)(ee,{})}),Object(G.jsx)(o.b,{path:"/cal",children:Object(G.jsx)(J,{})}),Object(G.jsx)(o.a,{from:"/",to:"/first"})]})})]})})},re=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,198)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};i.a.render(Object(G.jsx)(r.a.StrictMode,{children:Object(G.jsx)(ae,{})}),document.getElementById("root")),re()}},[[192,1,2]]]);
//# sourceMappingURL=main.173c2677.chunk.js.map